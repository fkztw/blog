<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Just for noting - kubernetes</title><link href="https://blog.fkz.tw/" rel="alternate"></link><link href="https://blog.fkz.tw/feeds/tag.kubernetes.atom.xml" rel="self"></link><id>https://blog.fkz.tw/</id><updated>2022-04-18T10:39:31+08:00</updated><subtitle></subtitle><entry><title>Y2022W15</title><link href="https://blog.fkz.tw/posts/2022/04/18/y2022w15/" rel="alternate"></link><published>2022-04-18T10:39:31+08:00</published><updated>2022-04-18T10:39:31+08:00</updated><author><name>M157q</name></author><id>tag:blog.fkz.tw,2022-04-18:/posts/2022/04/18/y2022w15/</id><summary type="html">&lt;p&gt;Collections of Y2022W15 (2022-04-11 Mon 00:00:00+0800 ~ 2022-04-18 Mon 00:00:00+0800)&lt;/p&gt;</summary><content type="html">&lt;h2&gt;blockchain&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://medium.com/taipei-ethereum-meetup/sparse-merkle-tree-%E7%9A%84%E5%84%AA%E9%BB%9E%E5%8F%8A%E7%94%A8%E9%80%94-83dc1098ece6"&gt;Sparse Merkle Tree 的優點及用途. 本文將介紹 Sparse Merkle Tree（以下簡稱… | by NIC Lin | Taipei Ethereum Meetup | Apr, 2022 | Medium&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;cli&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://jvns.ca/blog/2022/04/12/a-list-of-new-ish--command-line-tools/"&gt;A list of new(ish) command line tools&lt;/a&gt;&lt;br&gt;
每次看到這種文章都想說也要來用新的工具&lt;br&gt;
結果都沒有全部換過去&lt;br&gt;
果然習慣才是最難改的  &lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;kubernetes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://medium.com/@casperrubaek/why-keda-is-a-game-changer-for-scaling-in-kubernetes-4ebf34cb4b61"&gt;Why KEDA is a game-changer for scaling in Kubernetes | by Casper Rubæk | Feb, 2022 | Medium&lt;/a&gt;&lt;br&gt;
好像值得一試&lt;br&gt;
內建的 HPA 真的有點太陽春  &lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;</content><category term="blockchain"></category><category term="cli"></category><category term="kubernetes"></category></entry><entry><title>Y2021W35</title><link href="https://blog.fkz.tw/posts/2021/09/06/y2021w35/" rel="alternate"></link><published>2021-09-06T10:24:13+08:00</published><updated>2021-09-06T10:24:13+08:00</updated><author><name>M157q</name></author><id>tag:blog.fkz.tw,2021-09-06:/posts/2021/09/06/y2021w35/</id><summary type="html">&lt;p&gt;Collections of Y2021W35 (2021-08-30 Mon 00:00:00+0800 ~ 2021-09-06 Mon 00:00:00+0800)&lt;/p&gt;</summary><content type="html">&lt;h2&gt;covid19&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://pansci.asia/archives/329062"&gt;高端疫苗的原理是什麼？可能會有哪些副作用？——接種前後你該知道的注意事項 - PanSci 泛科學&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;kubernetes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://itnext.io/introducing-kubectl-warp-live-develop-code-in-kubernetes-9846c16d4bec"&gt;Introducing kubectl warp — live develop code in Kubernetes! | by Erno Aapa | ITNEXT&lt;/a&gt;&lt;br&gt;
拿來在 canary production 快速測個東西好像很方便&lt;br&gt;
雖然是兩年多前的專案&lt;br&gt;
不過看來還能用  &lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;life&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.neelnanda.io/blog/35-standards"&gt;Post 35: Your Standards are Too High — Neel Nanda&lt;/a&gt;&lt;br&gt;
有完美主義、拖延症或冒牌者症候群三者其一的人&lt;br&gt;
不妨看一下這篇文章&lt;br&gt;
雖然字體有點奇怪（建議用閱讀模式）&lt;br&gt;
而且個人覺得沒有詳細提到解法&lt;br&gt;
但至少給了一個非常重要的核心觀念&lt;br&gt;
那就是「降低你的標準」&lt;br&gt;
學著去接受不完美  &lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;python&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://blog.gslin.org/archives/2021/09/02/10304/%e5%9c%a8%e6%9c%ac%e6%a9%9f%e7%94%a8-pip-%e7%9b%b4%e6%8e%a5%e5%ae%89%e8%a3%9d-postgresql-server/"&gt;在本機用 pip 直接安裝 PostgreSQL server&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;</content><category term="covid19"></category><category term="kubernetes"></category><category term="life"></category><category term="python"></category></entry><entry><title>Y2021W22</title><link href="https://blog.fkz.tw/posts/2021/06/07/y2021w22/" rel="alternate"></link><published>2021-06-07T11:43:24+08:00</published><updated>2021-06-07T11:43:24+08:00</updated><author><name>M157q</name></author><id>tag:blog.fkz.tw,2021-06-07:/posts/2021/06/07/y2021w22/</id><summary type="html">&lt;p&gt;Collections of Y2021W22 (2021-05-31 Mon 00:00:00+0800 ~ 2021-06-07 Mon 00:00:00+0800)&lt;/p&gt;</summary><content type="html">&lt;h2&gt;crawler&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://blog.v123582.tw/2021/06/05/%E8%AE%93-Python-%E7%88%AC%E8%9F%B2%E4%B9%9F%E8%83%BD%E8%AE%80%E5%BE%97%E6%87%82%E3%80%8C%E6%BB%91%E5%8B%95%E9%A9%97%E8%AD%89%E7%A2%BC%E3%80%8D/?fbclid=IwAR0VcoG_v3lJd8KkH_Ay7MpHvbgk0CWYc_JADCtDIrimpPuPsH7T4TPoYBk"&gt;讓 Python 爬蟲也能讀得懂「滑動驗證碼」 | 資料科學家的工作日常&lt;/a&gt;&lt;br&gt;
這篇好酷&lt;br&gt;
以後寫爬蟲不怕遇到滑動驗證了&lt;br&gt;
是說今天才知道CAPTCHA 的全名是&lt;br&gt;
Completely&lt;br&gt;
Automated&lt;br&gt;
Public&lt;br&gt;
Turing test to tell Computers and Humans&lt;br&gt;
Apart&lt;br&gt;
自動判別電腦與人類的公開圖靈測試  &lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;kubernetes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://dev.to/loft/11-of-the-best-open-source-kubernetes-tools-2021-edition-4joo"&gt;11 of the Best Open-Source Kubernetes Tools - 2021 Edition - DEV Community&lt;/a&gt;&lt;br&gt;
這篇不錯&lt;br&gt;
minikube, Helm, K3s, Loft, Skaffold, Podman, Tilt, DevSpace, Lens 和一些 VSCode 上的 plugins  &lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;</content><category term="crawler"></category><category term="kubernetes"></category></entry><entry><title>Things that Kubernetes tutorials didn't teach you</title><link href="https://blog.fkz.tw/posts/2020/07/11/things-that-kubernetes-tutorials-didnt-teach-you/" rel="alternate"></link><published>2020-07-11T16:24:41+08:00</published><updated>2020-07-11T16:24:41+08:00</updated><author><name>fkz</name></author><id>tag:blog.fkz.tw,2020-07-11:/posts/2020/07/11/things-that-kubernetes-tutorials-didnt-teach-you/</id><summary type="html">&lt;p&gt;Sum-up for my experience about using Kubernetes in production.&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;NOTE: This was written in July, 2018, maybe something has changed.&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Code as Infrastructure? Code decides Infrastructure.&lt;ul&gt;
&lt;li&gt;Writing bad code could crash your pod.&lt;/li&gt;
&lt;li&gt;Code with good performance could save your money.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;HPA default sync period is 30 secs&lt;ul&gt;
&lt;li&gt;Too long for some bursts which cause high loading peak.&lt;/li&gt;
&lt;li&gt;If you are using GKE, you cannot change this.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Bad liveness probe settings could destory high availability&lt;ul&gt;
&lt;li&gt;If your condition is way too scrict, your pod will keep restarting.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;minReadySecs&lt;/code&gt; and &lt;code&gt;initialDelaySecs&lt;/code&gt; are important.&lt;ul&gt;
&lt;li&gt;Without these two settings, your users might get 502 Bad Gateway Error while rolling update.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;maxSurge&lt;/code&gt; and &lt;code&gt;maxUnavailable&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;Rolling update speed and availability&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;targetCPUUtilizationPercentage&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;Is the CPU utilization percentage of the node that pods are running on.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;terminationGracePeriodSeconds&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://pracucci.com/graceful-shutdown-of-kubernetes-pods.html"&gt;https://pracucci.com/graceful-shutdown-of-kubernetes-pods.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Resources&lt;ul&gt;
&lt;li&gt;CPU and Memory threshold is very important.&lt;/li&gt;
&lt;li&gt;Pods will be killed if you set the threshold too low.&lt;/li&gt;
&lt;li&gt;It's a waste if you set the threshold too high.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Tools&lt;ul&gt;
&lt;li&gt;&lt;code&gt;kubectx&lt;/code&gt;, &lt;code&gt;kubens&lt;/code&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/ahmetb/kubectx"&gt;https://github.com/ahmetb/kubectx&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Faster way to switch between clusters and namespaces in kubectl&lt;/li&gt;
&lt;li&gt;Really useful when you have more than 2 namespaces.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="Kubernetes"></category><category term="K8s"></category></entry><entry><title>Docker + Travis CI + Kubernetes + GKE</title><link href="https://blog.fkz.tw/posts/2018/01/10/docker-travis-ci-kubernetes-gke/" rel="alternate"></link><published>2018-01-10T22:15:19+08:00</published><updated>2018-01-11T17:01:19+08:00</updated><author><name>fkz</name></author><id>tag:blog.fkz.tw,2018-01-10:/posts/2018/01/10/docker-travis-ci-kubernetes-gke/</id><summary type="html">&lt;p&gt;紀錄一下透過 Travis CI  build Docker image 之後，再 Deploy 到 GKE 上的方法。&lt;/p&gt;</summary><content type="html">&lt;h2&gt;前言&lt;/h2&gt;
&lt;p&gt;這篇是 2016 年 6 月時的紀錄，當時剛接觸 Docker 和 Kubernetes 4 個月左右，在把舊的服務根據性質拆分成 3 個不同的 mircro serverices，想要做到讓 Travis CI 在跑完測試後，自動 build Docker image，再把 image 丟到 Google Cloud Platform 上，讓 GKE 使用。  &lt;/p&gt;
&lt;p&gt;當時還沒有 Google Cloud Builder 可以使用，所以在找尋解法的時候看到果然有人已經這麼做了。以下就來紀錄一下方法。  &lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;概要&lt;/h2&gt;
&lt;p&gt;學 Kubernetes 的時候找到了這簡短的文章：&lt;a href="https://chengl.com/orchestrating-docker-with-kubernetes/"&gt;Orchestrating Docker with Kubernetes&lt;/a&gt;，覺得可以讓剛上手的人快速瞭解。  &lt;/p&gt;
&lt;p&gt;至於透過 Travis CI 自動 build image  的部份，照著這篇文章做的確有成功：&lt;a href="https://chengl.com/docker-workflow/"&gt;Docker Workflow&lt;/a&gt;（其實看這篇文章的 &lt;code&gt;.travis.yml&lt;/code&gt; 就可以瞭解整個梗概了），但發現效果不盡理想，儘管已經拆分成 base image 和 production image，在每次 build image 的時候節省掉 build base image 的時間了，但花的時間還是太久。  &lt;/p&gt;
&lt;p&gt;當時因為被抓去做其他事，這部份就只弄到這裡，我覺得滿可惜的，後來大家都還是在 local build image 然後再透過 Makefile 把指令包裝起來，在 local 這邊透過 kubectl 把 image push 到 GCP。  &lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;後續&lt;/h2&gt;
&lt;p&gt;當時過了幾個月後，在 2016 年 9 月看到這篇文章：&lt;a href="https://blog.wu-boy.com/2016/09/docker-cache-on-travis/"&gt;在 Travis 實現 Docker Cache | 小惡魔 - 電腦技術 - 工作筆記 - AppleBOY&lt;/a&gt;，才發現原來有這樣的解法可以用。  &lt;/p&gt;
&lt;p&gt;後來發現也有很多人遇到一樣的問題，後來也大多是用 &lt;code&gt;docker save&lt;/code&gt;, &lt;code&gt;docker load&lt;/code&gt; 解決:  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://giorgos.sealabs.net/docker-cache-on-travis-and-docker-112.html"&gt;Docker cache on Travis and Docker 1.12 // Read at G's // A personal blog from Giorgos Logiotatidis.&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/travis-ci/travis-ci/issues/5358"&gt;Caching Docker Images on Build · Issue #5358 · travis-ci/travis-ci · GitHub&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="http://atodorov.org/blog/2017/08/07/faster-travis-ci-tests-with-docker-cache/"&gt;Faster Travis CI tests with Docker cache&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://stackoverflow.com/questions/35305492/cache-docker-images-on-travis-ci"&gt;performance - Cache docker images on Travis CI - Stack Overflow&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;參考來源&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://chengl.com/orchestrating-docker-with-kubernetes/"&gt;Orchestrating Docker with Kubernetes&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://chengl.com/docker-workflow/"&gt;Docker Workflow&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://blog.wu-boy.com/2016/09/docker-cache-on-travis/"&gt;在 Travis 實現 Docker Cache | 小惡魔 - 電腦技術 - 工作筆記 - AppleBOY&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;</content><category term="Docker"></category><category term="Kubernetes"></category><category term="Travis CI"></category><category term="2018 iT 邦幫忙鐵人賽"></category></entry><entry><title>GCPUG.TW 20160706</title><link href="https://blog.fkz.tw/posts/2016/07/06/gcpug-tw-20160706/" rel="alternate"></link><published>2016-07-06T22:59:41+08:00</published><updated>2016-07-06T22:59:41+08:00</updated><author><name>fkz</name></author><id>tag:blog.fkz.tw,2016-07-06:/posts/2016/07/06/gcpug-tw-20160706/</id><summary type="html">&lt;p&gt;Note for GCPUG.TW Meetup 20160706&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Firebase&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Restful  &lt;/li&gt;
&lt;li&gt;Real-time database  &lt;/li&gt;
&lt;li&gt;Easily authentication with OAuth&lt;br&gt;
&lt;code&gt;ref.authWithOAuthPopup("twitter", function (error, authData) {  
    ...  
}&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;Offline support  &lt;ul&gt;
&lt;li&gt;Offline 的時候仍可繼續更改，有網路的時候會自動做 background sync  &lt;/li&gt;
&lt;li&gt;有個要注意的問題是如果有多個人以上修改的話，會以最後修改的那個為主。  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Demo  &lt;ul&gt;
&lt;li&gt;&lt;a href="https://mmoasteroids.firebaseapp.com/"&gt;https://mmoasteroids.firebaseapp.com/&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://ray-tetris.firebaseapp.com/"&gt;https://ray-tetris.firebaseapp.com/&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://firechess-demo.firebaseapp.com/#TzA4m"&gt;https://firechess-demo.firebaseapp.com/#TzA4m&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://ray-livecode.firebaseapp.com/"&gt;https://ray-livecode.firebaseapp.com/&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Related Links  &lt;ul&gt;
&lt;li&gt;&lt;a href="https://firebase.googleblog.com/2014/06/geofire-20.html"&gt;https://firebase.googleblog.com/2014/06/geofire-20.html&lt;/a&gt;  &lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/firebase/geofire-js"&gt;https://github.com/firebase/geofire-js&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.sflivebus.com/"&gt;https://www.sflivebus.com/&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://firepad.io"&gt;https://firepad.io&lt;/a&gt;  &lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/firebase/firepad/"&gt;https://github.com/firebase/firepad/&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://firebase.google.com/pricing/"&gt;https://firebase.google.com/pricing/&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;Kubernetes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/kubernetes/kubernetes/wiki/Release-1.3"&gt;Kubernetes 1.3&lt;/a&gt;  &lt;ul&gt;
&lt;li&gt;Pet Sets  &lt;/li&gt;
&lt;li&gt;Init Containers  &lt;ul&gt;
&lt;li&gt;Sequential Pod Initialization  &lt;/li&gt;
&lt;li&gt;開啟真正的 Application 的時候必須經過一些初始化步驟，1.3 以後可以使用 Init containers 來達到這個功能。  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Jobs  &lt;ul&gt;
&lt;li&gt;Work Queue with Pod per work  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Cluster Federation  &lt;ul&gt;
&lt;li&gt;Manage clusters across region and providers  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kubernetes/minikube"&gt;minikube&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Related Links  &lt;ul&gt;
&lt;li&gt;&lt;a href="https://codelabs.developers.google.com/codelabs/cloud-hello-kubernetes/index.html?index=..%2F..%2Findex#0"&gt;Hello Node Kubernetes Codelab&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://codelabs.developers.google.com/codelabs/cloud-orchestrate-with-kubernetes/index.html?index=..%2F..%#0"&gt;Orchestrating the Cloud with Kubernetes&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://codelabs.developers.google.com/codelabs/cloud-slack-bot/index.html?index=..%2F..%2Findex#0"&gt;Build a Slack Bot with Node.js on Kubernetes&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://codelabs.developers.google.com/codelabs/cloud-compute-kubernetes/index.html?index=..%2F..%2Findex#0"&gt;Compute Engine &amp;amp; Kubernetes (Container Engine)&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="GCPUG.TW"></category><category term="Firebase"></category><category term="Kubernetes"></category></entry></feed>